{"ast":null,"code":"import _classCallCheck from \"/Users/chrisfu/openapi.portal/ui/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"/Users/chrisfu/openapi.portal/ui/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/chrisfu/openapi.portal/ui/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _createClass from \"/Users/chrisfu/openapi.portal/ui/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/chrisfu/openapi.portal/ui/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/chrisfu/openapi.portal/ui/src/containers/apiDisplay/ApiDisplay.js\";\nimport React, { Component, Fragment } from 'react';\nimport { push } from 'connected-react-router';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { loadPubs as _loadPubs } from '../../actions/apiActions';\nimport { loadOpenApis } from '../../actions/apiActions';\nimport { RedocStandalone } from 'redoc';\nimport { uploadAPI as _uploadAPI } from '../../actions/apiActions';\n\nvar ApiDisplay =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ApiDisplay, _Component);\n\n  _createClass(ApiDisplay, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {//this.props.loadOpenApis(0); \n      //this.props.loadPubs(0);\n    }\n  }]);\n\n  function ApiDisplay(props) {\n    var _this;\n\n    _classCallCheck(this, ApiDisplay);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ApiDisplay).call(this, props));\n    _this.state = {\n      pubid: '',\n      selectedFile: null,\n      loaded: 0\n    };\n    console.log(_this.props.match.params.id); // this.handleSubmit = this.handleSubmit.bind(this);\n\n    return _this;\n  }\n\n  _createClass(ApiDisplay, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      // Typical usage (don't forget to compare props):\n      if (this.props.completed && prevProps.completed == false) {\n        this.props.changePage();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, this.renderOpenAPIs());\n    }\n  }, {\n    key: \"renderOpenAPI\",\n    value: function renderOpenAPI(pb) {\n      return React.createElement(RedocStandalone, {\n        specUrl: \"http://1forge.com/openapi.json\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      });\n    }\n  }, {\n    key: \"renderOpenAPIs\",\n    value: function renderOpenAPIs() {\n      var _this2 = this;\n\n      if (this.props.pub == null) {\n        return null;\n      }\n\n      return React.createElement(\"div\", {\n        className: \"position-relative overflow-hidden p-3 p-md-5 m-md-3 text-center bg-light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, this.props.pub.map(function (pb) {\n        return _this2.renderOpenAPI(pb);\n      }));\n    }\n  }]);\n\n  return ApiDisplay;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var publishers = _ref.publishers,\n      upload = _ref.upload;\n  return {\n    count: publishers.total,\n    pub: publishers.publishers,\n    uploading: upload.isUploading,\n    completed: upload.isComplete\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    uploadAPI: function uploadAPI(apiInfo) {\n      return _uploadAPI(apiInfo);\n    },\n    loadPubs: function loadPubs(page) {\n      return _loadPubs(page);\n    },\n    changePage: function changePage() {\n      return push('/');\n    }\n  }, dispatch);\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddApi);","map":{"version":3,"sources":["/Users/chrisfu/openapi.portal/ui/src/containers/apiDisplay/ApiDisplay.js"],"names":["React","Component","Fragment","push","bindActionCreators","connect","loadPubs","loadOpenApis","RedocStandalone","uploadAPI","ApiDisplay","props","state","pubid","selectedFile","loaded","console","log","match","params","id","prevProps","completed","changePage","renderOpenAPIs","pb","pub","map","renderOpenAPI","mapStateToProps","publishers","upload","count","total","uploading","isUploading","isComplete","mapDispatchToProps","dispatch","apiInfo","page","AddApi"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,wBAArB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAQ,IAARA,SAAT,QAAyB,0BAAzB;AACA,SAASC,YAAT,QAA6B,0BAA7B;AACA,SAASC,eAAT,QAAgC,OAAhC;AAEA,SAASC,SAAS,IAATA,UAAT,QAA0B,0BAA1B;;IAEMC,U;;;;;;;wCACkB,CAChB;AACA;AACH;;;AAED,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,oFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE,EADE;AAETC,MAAAA,YAAY,EAAE,IAFL;AAGTC,MAAAA,MAAM,EAAE;AAHC,KAAb;AAMAC,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAKN,KAAL,CAAWO,KAAX,CAAiBC,MAAjB,CAAwBC,EAApC,EARe,CAUhB;;AAVgB;AAWlB;;;;uCAIkBC,S,EAAW;AAC1B;AACA,UAAI,KAAKV,KAAL,CAAWW,SAAX,IAAwBD,SAAS,CAACC,SAAV,IAAuB,KAAnD,EAA0D;AACxD,aAAKX,KAAL,CAAWY,UAAX;AACD;AACJ;;;6BAEQ;AACL,aACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKC,cAAL,EADL,CADJ;AAMH;;;kCAEaC,E,EAAI;AACd,aACI,oBAAC,eAAD;AAAiB,QAAA,OAAO,EAAC,gCAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAGD;;;qCAEc;AAAA;;AACb,UAAI,KAAKd,KAAL,CAAWe,GAAX,IAAkB,IAAtB,EAA4B;AAC1B,eAAO,IAAP;AACD;;AACD,aACE;AAAK,QAAA,SAAS,EAAE,0EAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,KAAKf,KAAL,CAAWe,GAAX,CAAeC,GAAf,CAAmB,UAACF,EAAD;AAAA,eAAM,MAAI,CAACG,aAAL,CAAmBH,EAAnB,CAAN;AAAA,OAAnB,CADD,CADF;AAMD;;;;EArDkBxB,S;;AA6DzB,IAAM4B,eAAe,GAAG,SAAlBA,eAAkB;AAAA,MAAGC,UAAH,QAAGA,UAAH;AAAA,MAAeC,MAAf,QAAeA,MAAf;AAAA,SAA6B;AAEnDC,IAAAA,KAAK,EAAEF,UAAU,CAACG,KAFiC;AAGnDP,IAAAA,GAAG,EAAEI,UAAU,CAACA,UAHmC;AAInDI,IAAAA,SAAS,EAAEH,MAAM,CAACI,WAJiC;AAKnDb,IAAAA,SAAS,EAAES,MAAM,CAACK;AALiC,GAA7B;AAAA,CAAxB;;AAUA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ;AAAA,SACjClC,kBAAkB,CAChB;AACEK,IAAAA,SAAS,EAAE,mBAAC8B,OAAD;AAAA,aAAa9B,UAAS,CAAC8B,OAAD,CAAtB;AAAA,KADb;AAEEjC,IAAAA,QAAQ,EAAE,kBAACkC,IAAD;AAAA,aAAUlC,SAAQ,CAACkC,IAAD,CAAlB;AAAA,KAFZ;AAGEjB,IAAAA,UAAU,EAAE;AAAA,aAAMpB,IAAI,CAAC,GAAD,CAAV;AAAA;AAHd,GADgB,EAMhBmC,QANgB,CADe;AAAA,CAAnC;;AAUA,eAAejC,OAAO,CACpBwB,eADoB,EAEpBQ,kBAFoB,CAAP,CAGbI,MAHa,CAAf","sourcesContent":["import React, { Component, Fragment } from 'react'\nimport { push } from 'connected-react-router'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport { loadPubs } from '../../actions/apiActions'\nimport { loadOpenApis } from '../../actions/apiActions'\nimport { RedocStandalone } from 'redoc';\n\nimport { uploadAPI } from '../../actions/apiActions'\n\nclass ApiDisplay extends Component {\n    componentDidMount() {\n        //this.props.loadOpenApis(0); \n        //this.props.loadPubs(0);\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            pubid: '',\n            selectedFile: null,\n            loaded: 0,\n        };\n       \n        console.log(this.props.match.params.id);\n        \n       // this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    \n  \n    componentDidUpdate(prevProps) {\n        // Typical usage (don't forget to compare props):\n        if (this.props.completed && prevProps.completed == false) {\n          this.props.changePage();\n        }\n    }\n\n    render() {\n        return (\n            <Fragment>\n                {this.renderOpenAPIs()}\n            </Fragment>      \n            \n        )\n    }\n\n    renderOpenAPI(pb) {\n        return (\n            <RedocStandalone specUrl=\"http://1forge.com/openapi.json\"/>\n        )\n      }\n    \n    renderOpenAPIs() {\n        if (this.props.pub == null) {\n          return null;\n        }\n        return (\n          <div className= \"position-relative overflow-hidden p-3 p-md-5 m-md-3 text-center bg-light\">\n          {this.props.pub.map((pb)=>this.renderOpenAPI(pb))}\n            </div>\n        )\n    \n      }\n    \n\n\n   \n}\n\n\nconst mapStateToProps = ({ publishers, upload }) => ({\n\n  count: publishers.total,\n  pub: publishers.publishers,\n  uploading: upload.isUploading,\n  completed: upload.isComplete\n\n})\n\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators(\n    {\n      uploadAPI: (apiInfo) => uploadAPI(apiInfo),\n      loadPubs: (page) => loadPubs(page),\n      changePage: () => push('/')\n    },\n    dispatch\n  )\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AddApi)\n"]},"metadata":{},"sourceType":"module"}