{"ast":null,"code":"var EventEmitter = require('events').EventEmitter;\n\nfunction Counter() {\n  EventEmitter.call(this);\n  this.value = 0;\n}\n\nCounter.prototype = Object.create(EventEmitter.prototype);\n\nCounter.prototype.increment = function increment() {\n  this.value++;\n};\n\nCounter.prototype.decrement = function decrement() {\n  if (--this.value === 0) this.emit('zero');\n};\n\nCounter.prototype.isZero = function isZero() {\n  return this.value === 0;\n};\n\nCounter.prototype.onceZero = function onceZero(fn) {\n  if (this.isZero()) return fn();\n  this.once('zero', fn);\n};\n\nmodule.exports = Counter;","map":null,"metadata":{},"sourceType":"script"}