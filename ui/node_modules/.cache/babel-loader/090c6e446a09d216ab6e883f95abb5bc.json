{"ast":null,"code":"function removeUploadedFiles(uploadedFiles, remove, cb) {\n  var length = uploadedFiles.length;\n  var errors = [];\n  if (length === 0) return cb(null, errors);\n\n  function handleFile(idx) {\n    var file = uploadedFiles[idx];\n    remove(file, function (err) {\n      if (err) {\n        err.file = file;\n        err.field = file.fieldname;\n        errors.push(err);\n      }\n\n      if (idx < length - 1) {\n        handleFile(idx + 1);\n      } else {\n        cb(null, errors);\n      }\n    });\n  }\n\n  handleFile(0);\n}\n\nmodule.exports = removeUploadedFiles;","map":null,"metadata":{},"sourceType":"script"}